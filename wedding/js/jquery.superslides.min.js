(function(k,c){var l;l=function(b,h){this.options=c.extend({play:!1,animation_speed:600,animation_easing:"swing",animation:"slide",inherit_width_from:k,inherit_height_from:k,pagination:!0,hashchange:!1,scrollable:!0,elements:{preserve:".preserve",nav:".slides-navigation",container:".slides-container",pagination:".slides-pagination"}},h);var a=this,e=c("<div>",{"class":"slides-control"}),f=1;this.$el=c(b);this.$container=this.$el.find(this.options.elements.container);var g={slide:function(d,b){var c=
a.$container.children();c.eq(d.upcoming_slide).css({left:d.upcoming_position,display:"block"});a.$control.animate({left:d.offset},a.options.animation_speed,a.options.animation_easing,function(){1<a.size()&&(a.$control.css({left:-a.width}),c.eq(d.upcoming_slide).css({left:a.width,zIndex:2}),0<=d.outgoing_slide&&c.eq(d.outgoing_slide).css({left:a.width,display:"none",zIndex:0}));b()})},fade:function(a,b){var c=this,e=c.$container.children(),h=e.eq(a.outgoing_slide),f=e.eq(a.upcoming_slide);f.css({left:this.width,
opacity:1,display:"block"});0<=a.outgoing_slide?h.animate({opacity:0},c.options.animation_speed,c.options.animation_easing,function(){1<c.size()&&(e.eq(a.upcoming_slide).css({zIndex:2}),0<=a.outgoing_slide&&e.eq(a.outgoing_slide).css({opacity:1,display:"none",zIndex:0}));b()}):(f.css({zIndex:2}),b())}},g=c.extend(g,c.fn.superslides.fx);this.css={containers:function(){a.init?(a.$el.css({height:a.height}),a.$control.css({width:a.width*f,left:-a.width}),a.$container.css({})):(c("body").css({margin:0}),
a.$el.css({position:"relative",overflow:"hidden",width:"100%",height:a.height}),a.$control.css({position:"relative",transform:"translate3d(0)",height:"100%",width:a.width*f,left:-a.width}),a.$container.css({display:"none",margin:"0",padding:"0",listStyle:"none",position:"relative",height:"100%"}));1===a.size()&&a.$el.find(a.options.elements.nav).hide()},images:function(){var d=a.$container.find("img").not(a.options.elements.preserve);d.removeAttr("width").removeAttr("height").css({"-webkit-backface-visibility":"hidden",
"-ms-interpolation-mode":"bicubic",position:"absolute",left:"0",top:"0","z-index":"-1","max-width":"none"});d.each(function(){var d=a.image._aspectRatio(this),b=this;if(c.data(this,"processed"))a.image._scale(b,d),a.image._center(b,d);else{var e=new Image;e.onload=function(){a.image._scale(b,d);a.image._center(b,d);c.data(b,"processed",!0)};e.src=this.src}})},children:function(){var d=a.$container.children();d.is("img")&&(d.each(function(){if(c(this).is("img")){c(this).wrap("<div>");var a=c(this).attr("id");
c(this).removeAttr("id");c(this).parent().attr("id",a)}}),d=a.$container.children());a.init||d.css({display:"none",left:2*a.width});d.css({position:"absolute",overflow:"hidden",height:"100%",width:a.width,top:0,zIndex:0})}};this.image={_centerY:function(d){d=c(d);d.css({top:(a.height-d.height())/2})},_centerX:function(d){d=c(d);d.css({left:(a.width-d.width())/2})},_center:function(d){a.image._centerX(d);a.image._centerY(d)},_aspectRatio:function(a){if(!a.naturalHeight&&!a.naturalWidth){var b=new Image;
b.src=a.src;a.naturalHeight=b.height;a.naturalWidth=b.width}return a.naturalHeight/a.naturalWidth},_scale:function(d,b){b=b||a.image._aspectRatio(d);var e=a.height/a.width,h=c(d);e>b?h.css({height:a.height,width:a.height/b}):h.css({height:a.width*b,width:a.width})}};this.pagination={_setCurrent:function(d){if(a.$pagination){var b=a.$pagination.children();b.removeClass("current");b.eq(d).addClass("current")}},_addItem:function(b){var e=b+1;(b=a.$container.children().eq(b).attr("id"))&&(e=b);c("<a>",
{href:"#"+e,text:e}).appendTo(a.$pagination)},_setup:function(){if(a.options.pagination&&1!==a.size()){var b=c("<nav>",{"class":a.options.elements.pagination.replace(/^\./,"")});a.$pagination=b.appendTo(a.$el);for(b=0;b<a.size();b++)a.pagination._addItem(b)}},_events:function(){a.$el.on("click",a.options.elements.pagination+" a",function(b){b.preventDefault();b=a._parseHash(this.hash);b=a._upcomingSlide(b-1);b!==a.current&&a.animate(b)})}};this.fx=g;this.animation=this.fx[this.options.animation];
this.$control=this.$container.wrap(e).parent(".slides-control");a._findPositions();a.width=a._findWidth();a.height=a._findHeight();this.css.children();this.css.containers();this.css.images();this.pagination._setup();return function(){f=a._findMultiplier();a.$el.on("click",a.options.elements.nav+" a",function(b){b.preventDefault();a.stop();c(this).hasClass("next")?a.animate("next",function(){a.start()}):a.animate("prev",function(){a.start()})});c(document).on("keyup",function(b){37===b.keyCode&&a.animate("prev");
39===b.keyCode&&a.animate("next")});c(k).on("resize",function(){setTimeout(function(){var b=a.$container.children();a.width=a._findWidth();a.height=a._findHeight();b.css({width:a.width,left:a.width});a.css.containers();a.css.images()},10)});c(k).on("hashchange",function(){var b=a._parseHash(),b=b&&!isNaN(b)?a._upcomingSlide(b-1):a._upcomingSlide(b);0<=b&&b!==a.current&&a.animate(b)});a.pagination._events();a.start();return a}()};l.prototype={_findWidth:function(){return c(this.options.inherit_width_from).width()},
_findHeight:function(){return c(this.options.inherit_width_from).height()},_findMultiplier:function(){return 1===this.size()?1:3},_upcomingSlide:function(b){return/next/.test(b)?this._nextInDom():/prev/.test(b)?this._prevInDom():/\d/.test(b)?+b:b&&/\w/.test(b)?(b=this._findSlideById(b),0<=b?b:0):0},_findSlideById:function(b){return this.$container.find("#"+b).index()},_findPositions:function(b,c){c=c||this;void 0===b&&(b=-1);c.current=b;c.next=c._nextInDom();c.prev=c._prevInDom()},_nextInDom:function(){var b=
this.current+1;b===this.size()&&(b=0);return b},_prevInDom:function(){var b=this.current-1;0>b&&(b=this.size()-1);return b},_parseHash:function(b){b=b||k.location.hash;(b=b.replace(/^#/,""))&&!isNaN(+b)&&(b=+b);return b},size:function(){return this.$container.children().length},destroy:function(){return this.$el.removeData()},update:function(){this.css.children();this.css.containers();this.css.images();this.pagination._addItem(this.size());this._findPositions(this.current);this.$el.trigger("updated.slides")},
stop:function(){clearInterval(this.play_id);delete this.play_id;this.$el.trigger("stopped.slides")},start:function(){var b=this;b.options.hashchange?c(k).trigger("hashchange"):this.animate();this.options.play&&(this.play_id&&this.stop(),this.play_id=setInterval(function(){b.animate()},this.options.play));this.$el.trigger("started.slides")},animate:function(b,c){var a=this,e={};if(!(this.animating||(this.animating=!0,void 0===b&&(b="next"),e.upcoming_slide=this._upcomingSlide(b),e.upcoming_slide>=
this.size()))){e.outgoing_slide=this.current;e.upcoming_position=2*this.width;e.offset=-e.upcoming_position;if("prev"===b||b<e.outgoing_slide)e.upcoming_position=0,e.offset=0;1<a.size()&&a.pagination._setCurrent(e.upcoming_slide);if(a.options.hashchange){var f=e.upcoming_slide+1,g=a.$container.children(":eq("+e.upcoming_slide+")").attr("id");k.location.hash=g?g:f}a.$el.trigger("animating.slides",[e]);a.animation(e,function(){a._findPositions(e.upcoming_slide,a);"function"===typeof c&&c();a.animating=
!1;a.$el.trigger("animated.slides");a.init||(a.$el.trigger("init.slides"),a.init=!0,a.$container.fadeIn("fast"))})}}};c.fn.superslides=function(b,h){var a=[];this.each(function(){var e,f,g;e=c(this);f=e.data("superslides");g="object"===typeof b&&b;f||(a=e.data("superslides",f=new l(this,g)));if("string"===typeof b&&(a=f[b],"function"===typeof a))return a=a.call(f,h)});return a};c.fn.superslides.fx={}})(this,jQuery);
